(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{41:function(e,a,t){},54:function(e,a,t){e.exports=t(73)},59:function(e,a,t){},70:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),l=t.n(c),o=(t(59),t(19)),i=t(53),s=t(8),u=t.n(s),m=t(22),f=(t(41),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);function v(e){for(var a in e)if(e.hasOwnProperty(a))return!1;return!0}var d=t(16),h=function(e){var a=e.temperature,t=e.text,n=e.date,c=e.city,l=e.locationId,o=e.link;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,c),r.a.createElement("h6",null,"(",l,")"),n&&r.a.createElement("h4",null,function(e){var a=new Date(e);return f[a.getDay()]}(n)),r.a.createElement("h5",{className:"card-title"},a),r.a.createElement("p",{className:"card-text"},t),o&&r.a.createElement(d.b,{to:"/main".concat(o)},r.a.createElement("button",{className:"btn btn-primary"},"See weather"))))},p="MYiJh6BXB2M73G7QJ7GOitkVtihQAITI",y=function(e){var a,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a="http://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?apikey=").concat(p,"&details=true"),n.next=3,u.a.awrap(fetch(a));case 3:return t=n.sent,n.next=6,u.a.awrap(t.json());case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}))},E=function(e){var a,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a="http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(p,"&metric=true"),n.next=3,u.a.awrap(fetch(a));case 3:return t=n.sent,n.abrupt("return",t.json());case 5:case"end":return n.stop()}}))},b=t(76),j=t(77),O=t(78),w=function(e){var a=e.forecast;return r.a.createElement(b.a,{className:"view"},r.a.createElement(j.a,null,a.DailyForecasts.map((function(e,t){var n=function(e,a){var t=parseFloat(e),n=parseFloat(a);return"".concat(Math.min(t,n)," - ").concat(Math.max(t,n))}(a.DailyForecasts[t].Temperature.Minimum.Value,a.DailyForecasts[t].Temperature.Maximum.Value);return r.a.createElement(O.a,null,r.a.createElement(h,{key:t,temperature:n,text:a.DailyForecasts[t].Day.IconPhrase,date:a.DailyForecasts[t].Date}))}))))},x=t(20),N=t(26),g=function(e){var a="fa fa-heart";return e.liked||(a+="-o"),r.a.createElement("i",{className:a,"aria-hidden":"true",style:{cursor:"pointer"},onClick:e.onClick})},k=Object(m.b)((function(e){return{favorites:e.favorites}}),(function(e){return{addToFavorites:function(a){return e({type:"Add favorite",payload:a})},removeFromFavorites:function(a){return e({type:"Remove favorite",payload:a})}}}))((function(e){var a=e.locationObj,t=e.favorites,c=e.addToFavorites,l=e.removeFromFavorites,i=Object(n.useState)({curWeatherObj:{},forecastWeatherObj:{}}),s=Object(o.a)(i,2),m=s[0],f=s[1],d=Object(n.useState)(!1),h=Object(o.a)(d,2),p=h[0],O=h[1];Object(n.useEffect)((function(){!function(){var e,n;u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.a.awrap(E(a.Key));case 2:return e=r.sent,r.next=5,u.a.awrap(y(a.Key));case 5:n=r.sent,f({curWeatherObj:n[0],forecastWeatherObj:e}),O((c=a.Key,l=t,Object.keys(l).includes(c)));case 8:case"end":return r.stop()}var c,l}))}()}),[a]);return r.a.createElement(r.a.Fragment,null,!v(m.curWeatherObj)&&r.a.createElement(N.a,null,r.a.createElement(b.a,{style:{textAlign:"center"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"justify-content-center"},r.a.createElement("h2",null,a.LocalizedName," "),r.a.createElement(g,{liked:p,onClick:function(){p?l(a.Key):c({key:a.Key,object:{cityName:a.LocalizedName,temperature:m.curWeatherObj.Temperature.Metric.Value,text:m.curWeatherObj.WeatherText}}),O(!p)}})),r.a.createElement("h1",null,m.curWeatherObj.Temperature.Metric.Value),r.a.createElement("p",null,m.curWeatherObj.WeatherText),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Last updated on ",(new Date).toLocaleTimeString({timeStyle:"short"})))))),!v(m.forecastWeatherObj)&&r.a.createElement(w,{forecast:m.forecastWeatherObj}))})),F=t(47),W=t.n(F),T=t(17),M=function(){var e=Object(T.f)(),a=e.city,t=e.cityid,c=Object(n.useState)(a&&t?{Key:t,LocalizedName:a}:{Key:"215854",LocalizedName:"Tel Aviv"}),l=Object(o.a)(c,2),s=l[0],m=l[1],f=W.a.debounce((function(e){return v(e)}),500),v=function(e){if(e)return new Promise((function(a,t){var n;(function(e){var a,t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a="http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(p,"&q=").concat(e),n.next=3,u.a.awrap(fetch(a));case 3:return t=n.sent,n.abrupt("return",t.json());case 5:case"end":return n.stop()}}))})(e).then((function(e){n=e?e.map((function(e){return{value:e.Key,label:e.LocalizedName}})):[],a(n)}))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(j.a,{className:"justify-content-center"},r.a.createElement(O.a,{sm:6},r.a.createElement(i.a,{cacheOptions:!0,defaultOptions:!0,isClearable:!0,className:"basic-single",classNamePrefix:"select",name:"search",loadOptions:function(e){return f(e)},onChange:function(e){m({Key:e.value,LocalizedName:e.label})}})))),r.a.createElement(k,{locationObj:s}))},D=Object(m.b)((function(e){return{favorites:e.favorites}}))((function(e){var a=e.favorites;return r.a.createElement(r.a.Fragment,null,r.a.createElement(N.a,null,r.a.createElement(j.a,{className:"justify-content-center"},r.a.createElement("h2",null,"My Favorites")),r.a.createElement(b.a,{className:"view"},r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,Object.keys(a).map((function(e,t){return r.a.createElement(h,{key:t,locationId:e,city:a[e].cityName,temperature:a[e].temperature,text:a[e].text,link:"/".concat(a[e].cityName,"/").concat(e)})})))))))})),K=function(){return r.a.createElement("h1",null,"Page not found!")},L=t(79),S=t(80);t(70);var z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(L.a,{bg:"light",expand:"lg"},r.a.createElement(d.b,{className:"navbar-brand",to:"/main"},"Weather"),r.a.createElement(L.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(L.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(S.a,{className:"mr-auto"},r.a.createElement(d.b,{className:"nav-link",to:"/main"},"Main"),r.a.createElement(d.b,{className:"nav-link",to:"/favorites"},"Favorites")))),r.a.createElement(T.c,null,r.a.createElement(T.a,{exact:!0,path:"/"},r.a.createElement(M,null)),r.a.createElement(T.a,{exact:!0,path:"/main"},r.a.createElement(M,null)),r.a.createElement(T.a,{path:"/main/:city/:cityid"},r.a.createElement(M,null)),r.a.createElement(T.a,{exact:!0,path:"/favorites"},r.a.createElement(D,null)),r.a.createElement(T.a,{path:"**"},r.a.createElement(K,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=t(25),I={favorites:{}},A=Object(C.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Add favorite":var t=Object(x.a)({},e.favorites);return t[a.payload.key]=a.payload.object,Object(x.a)({},e,{favorites:t});case"Remove favorite":var n=Object(x.a)({},e.favorites),r=a.payload;return delete n[r],Object(x.a)({},e,{favorites:n});default:return e}}));l.a.render(r.a.createElement(m.a,{store:A},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.700e93f0.chunk.js.map