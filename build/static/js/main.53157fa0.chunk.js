(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{40:function(e,a,t){},54:function(e,a,t){e.exports=t(73)},59:function(e,a,t){},68:function(e,a,t){},73:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(11),o=t.n(c),l=(t(59),t(18)),s=t(53),u=t(8),i=t.n(u),m=t(21),f=(t(40),["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]);function v(e){for(var a in e)if(e.hasOwnProperty(a))return!1;return!0}var d=function(e){var a=e.temperature,t=e.text,n=e.date,c=e.city,o=e.locationId;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,c),r.a.createElement("h5",null,o),n&&r.a.createElement("h4",null,function(e){var a=new Date(e);return f[a.getDay()]}(n)),r.a.createElement("h5",{className:"card-title"},a),r.a.createElement("p",{className:"card-text"},t)))},h="wkBRW6g6mRh12oaMakXqUw4y2nBiunuw",p=function(e){var a,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a="http://dataservice.accuweather.com/currentconditions/v1/".concat(e,"?apikey=").concat(h,"&details=true"),n.next=3,i.a.awrap(fetch(a));case 3:return t=n.sent,n.next=6,i.a.awrap(t.json());case 6:return n.abrupt("return",n.sent);case 7:case"end":return n.stop()}}))},y=function(e){var a,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a="http://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(e,"?apikey=").concat(h,"&metric=true"),n.next=3,i.a.awrap(fetch(a));case 3:return t=n.sent,n.abrupt("return",t.json());case 5:case"end":return n.stop()}}))},E=t(76),b=t(77),j=t(78),w=function(e){var a=e.forecast;return r.a.createElement(E.a,{className:"view"},r.a.createElement(b.a,null,a.DailyForecasts.map((function(e,t){var n=function(e,a){var t=parseFloat(e),n=parseFloat(a);return"".concat(Math.min(t,n)," - ").concat(Math.max(t,n))}(a.DailyForecasts[t].Temperature.Minimum.Value,a.DailyForecasts[t].Temperature.Maximum.Value);return r.a.createElement(j.a,null,r.a.createElement(d,{key:t,temperature:n,text:a.DailyForecasts[t].Day.IconPhrase,date:a.DailyForecasts[t].Date}))}))))},O=t(19),x=t(43),N=function(e){var a="fa fa-heart";return e.liked||(a+="-o"),r.a.createElement("i",{className:a,"aria-hidden":"true",style:{cursor:"pointer"},onClick:e.onClick})},g=Object(m.b)((function(e){return{favorites:e.favorites}}),(function(e){return{addToFavorites:function(a){return e({type:"Add favorite",payload:a})},removeFromFavorites:function(a){return e({type:"Remove favorite",payload:a})}}}))((function(e){var a=e.locationObj,t=e.favorites,c=e.addToFavorites,o=e.removeFromFavorites,s=Object(n.useState)({curWeatherObj:{},forecastWeatherObj:{}}),u=Object(l.a)(s,2),m=u[0],f=u[1],d=Object(n.useState)(!1),h=Object(l.a)(d,2),j=h[0],O=h[1];Object(n.useEffect)((function(){!function(){var e,n;i.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.awrap(y(a.Key));case 2:return e=r.sent,r.next=5,i.a.awrap(p(a.Key));case 5:n=r.sent,f({curWeatherObj:n[0],forecastWeatherObj:e}),O((c=a.Key,o=t,Object.keys(o).includes(c)));case 8:case"end":return r.stop()}var c,o}))}()}),[a]);return r.a.createElement(r.a.Fragment,null,!v(m.curWeatherObj)&&r.a.createElement(x.a,null,r.a.createElement(E.a,{style:{textAlign:"center"}},r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement("h2",null,a.LocalizedName," "),r.a.createElement(N,{liked:j,onClick:function(){j?o(a.Key):c({key:a.Key,object:{cityName:a.LocalizedName,temperature:m.curWeatherObj.Temperature.Metric.Value,text:m.curWeatherObj.WeatherText}}),O(!j)}})),r.a.createElement("h1",null,m.curWeatherObj.Temperature.Metric.Value),r.a.createElement("p",null,m.curWeatherObj.WeatherText),r.a.createElement("p",{className:"card-text"},r.a.createElement("small",{className:"text-muted"},"Last updated on ",(new Date).toLocaleTimeString({timeStyle:"short"})))))),!v(m.forecastWeatherObj)&&r.a.createElement(w,{forecast:m.forecastWeatherObj}))})),k=t(45),F=t.n(k),W=function(){var e=Object(n.useState)({Key:"215854",LocalizedName:"Tel Aviv"}),a=Object(l.a)(e,2),t=a[0],c=a[1],o=F.a.debounce((function(e){return u(e)}),500),u=function(e){if(e)return new Promise((function(a,t){var n;(function(e){var a,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a="http://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(h,"&q=").concat(e),n.next=3,i.a.awrap(fetch(a));case 3:return t=n.sent,n.abrupt("return",t.json());case 5:case"end":return n.stop()}}))})(e).then((function(e){n=e?e.map((function(e){return{value:e.Key,label:e.LocalizedName}})):[],a(n)}))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement(b.a,{className:"justify-content-center"},r.a.createElement(j.a,{sm:6},r.a.createElement(s.a,{cacheOptions:!0,defaultOptions:!0,isClearable:!0,className:"basic-single",classNamePrefix:"select",name:"search",loadOptions:function(e){return o(e)},onChange:function(e){c({Key:e.value,LocalizedName:e.label})}})))),r.a.createElement(g,{locationObj:t}))},T=Object(m.b)((function(e){return{favorites:e.favorites}}))((function(e){var a=e.favorites;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My favorites"),r.a.createElement(E.a,{className:"view"},r.a.createElement(b.a,null,Object.keys(a).map((function(e,t){return r.a.createElement(d,{key:t,locationId:e,city:a[e].cityName,temperature:a[e].temperature,text:a[e].text})})))))})),D=function(){return r.a.createElement("h1",null,"Page not found!")},M=t(79),K=t(80),L=t(24),S=t(16);t(68);var C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,null,r.a.createElement(M.a,{bg:"light",expand:"lg"},r.a.createElement(L.b,{className:"navbar-brand",to:"/main"},"Weather"),r.a.createElement(M.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(M.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(K.a,{className:"mr-auto"},r.a.createElement(L.b,{className:"nav-link",to:"/main"},"Main"),r.a.createElement(L.b,{className:"nav-link",to:"/favorites"},"Favorites")))),r.a.createElement(S.c,null,r.a.createElement(S.a,{exact:!0,path:"/"},r.a.createElement(W,null)),r.a.createElement(S.a,{exact:!0,path:"/main"},r.a.createElement(W,null)),r.a.createElement(S.a,{exact:!0,path:"/favorites"},r.a.createElement(T,null)),r.a.createElement(S.a,{path:"**"},r.a.createElement(D,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=t(25),P={favorites:{}},A=Object(z.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Add favorite":var t=Object(O.a)({},e.favorites);return t[a.payload.key]=a.payload.object,Object(O.a)({},e,{favorites:t});case"Remove favorite":var n=Object(O.a)({},e.favorites),r=a.payload;return delete n[r],Object(O.a)({},e,{favorites:n});default:return e}}));o.a.render(r.a.createElement(m.a,{store:A},r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.53157fa0.chunk.js.map